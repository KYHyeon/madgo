import Deck from './Deck.js'
import Broker from './user/Broker.js';
import User from './user/User.js';

export default class Dealer {
    _broker: Broker;
    _userA: User;
    _userB: User;
    _deck: Deck;
    get broker() {
        return this._broker;
    }

    set broker(value) {
        this._broker = value;
    }

    get userA() {
        return this._userA;
    }

    set userA(value) {
        this._userA = value;
    }

    get userB() {
        return this._userB;
    }

    set userB(value) {
        this._userB = value;
    }     // generated by Game

    // 1. 패 52장 만든다.
    // 2. 셔플한다.
    // 3. 나눠준다.
    constructor(broker: Broker, userA: User, userB: User) {
        // Todo : Deck(class) => 각각의 패에 대한 정보 가지고 있느다.
        // deck.shuffle();
        // deck.pop(n);
        this._deck = new Deck();
        this._broker = broker;
        this._userA = userA;
        this._userB = userB;

        console.log(this._deck)
    }

    shuffle() {
        this._deck.shuffle();
    }

    hand_out(destination: { hand: (arg0: any[]) => void; }, n: any) {
        destination.hand(this._deck.shift(n));
    }
}
